\033[0;34mAlforis CRM - Docker Deployment Script\033[0m

\033[0;32mUsage:\033[0m ./scripts/deploy.sh [OPTIONS] <ACTION>

\033[0;32mOptions:\033[0m
  -v        Verbose mode
  -h        Affiche cette aide

\033[0;32mActions:\033[0m
  setup           Configuration initiale du serveur (Docker, nginx, SSL)
  setup-ssl       Configure Nginx + SSL Let's Encrypt (apr√®s deploy)
  deploy          D√©ploiement complet (copie + build + migrate + restart)
  deploy-backend  D√©ploiement backend uniquement (rebuild API)
  deploy-frontend D√©ploiement frontend uniquement (rebuild frontend)
  start           D√©marrage des containers
  stop            Arr√™t des containers
  restart         Red√©marrage des containers
  status          Affiche le statut des containers
  logs            Affiche les logs en temps r√©el
  logs-api        Logs API uniquement
  logs-frontend   Logs frontend uniquement
  migrate         Ex√©cute les migrations Alembic
  backup-db       Sauvegarde la base de donn√©es
  restore-db      Restaure la derni√®re sauvegarde
  rollback        Rollback vers la version pr√©c√©dente (git)
  update          Mise √† jour depuis git (pull + rebuild + migrate)
  clean-docker    Nettoie les images/volumes Docker non utilis√©s

\033[0;32mVariables d'environnement:\033[0m
  SSH_KEY       Cl√© SSH (d√©faut: ~/.ssh/id_rsa_hetzner)
  SERVER        Serveur (d√©faut: root@159.69.108.234)
  REMOTE_DIR    R√©pertoire distant (d√©faut: /opt/alforis-crm)
  COMPOSE_FILE  Fichier compose (d√©faut: docker-compose.prod.yml)

\033[0;32mExemples:\033[0m
  ./scripts/deploy.sh setup                  Configuration initiale serveur
  ./scripts/deploy.sh -v deploy              D√©ploiement complet
  ./scripts/deploy.sh deploy-backend         Backend uniquement
  ./scripts/deploy.sh migrate                Migrations DB
  ./scripts/deploy.sh backup-db              Backup base de donn√©es
  ./scripts/deploy.sh logs-api               Logs API en temps r√©el
[0;34m‚ÑπÔ∏è  Test connexion SSH...[0m
